
require_relative './insertion_sort'

def bucket_sort(a)
  n = a.size
  b = Array.new(n) { [] }
  0.upto(n - 1) do |i|
    b[(n * a[i]).floor] << a[i]
  end

  b.each_with_index do |bucket, i|
    b[i] = insertion_sort(bucket)
  end

  b.flatten
end

# a = [0.78, 0.17, 0.39, 0.26, 0.72, 0.94, 0.21, 0.12, 0.23, 0.68]
# p bucket_sort(a)
# a = [
#   0.78, 0.17, 0.39, 0.26, 0.72, 0.94, 0.21, 0.12, 0.23, 0.68, 0.78, 0.17, 0.39, 0.26, 0.72,
#   0.94, 0.21, 0.12, 0.23, 0.68, 0.78, 0.17, 0.39, 0.26, 0.72, 0.94, 0.21, 0.12, 0.23, 0.68,
#   0.78, 0.17, 0.39, 0.26, 0.72, 0.94, 0.21, 0.12, 0.23, 0.68, 0.78, 0.17, 0.39, 0.26, 0.72,
#   0.94, 0.21, 0.12, 0.23, 0.68, 0.78, 0.17, 0.39, 0.26, 0.72, 0.94, 0.21, 0.12, 0.23, 0.68,
#   0.78, 0.17, 0.39, 0.26, 0.72, 0.94, 0.21, 0.12, 0.23, 0.68, 0.78, 0.17, 0.39, 0.26, 0.72,
#   0.94, 0.21, 0.12, 0.23, 0.68
# ]
